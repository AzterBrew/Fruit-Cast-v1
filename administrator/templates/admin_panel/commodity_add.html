{% extends "admin_login/layout.html" %}

{% block title %}
Fruit Cast | Forecast
{% endblock title %}

{% block navbar %}
    {% include "admin_panel/navbar.html" %}
{% endblock navbar %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm rounded-4 p-4 mb-4">
              <h2>
                {% if commodity %}
                  Edit Commodity
                {% else %}
                  Add New Commodity
                {% endif %}
              </h2>

              <form method="post">
                  {% csrf_token %}
                  <div class="mb-3">
                      <label for="id_name" class="form-label">Name</label>
                      {{ form.name }}
                  </div>
                  <div class="mb-3">
                      <label for="id_average_weight_per_unit_kg" class="form-label">Average Weight per Unit (kg)</label>
                      {{ form.average_weight_per_unit_kg }}
                  </div>
                  <div class="mb-3">
                      <label class="form-label">Seasonal Months</label>
                      {{ form.seasonal_months }}
                  </div>
                  <div class="mb-3">
                      <label class="form-label">Years to Mature :</label>
                      {{ form.years_to_mature }}
                      <p class="form-text">Note : If only in months, calculate with : [no. of months / 12]</p>

                  </div>
                  <button type="submit" class="btn btn-success">{% if commodity %}Update{% else %}Save{% endif %}</button>
                  <a href="{% url 'administrator:admin_commodity_list' %}" class="btn btn-secondary">Back to List</a>
              </form>
          </div>
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <h4>Upload a CSV file with the following format: </h4>
            <p>name,average_weight_per_unit_kg,seasonal_months,years_to_mature,years_to_bearfruit</p>
            <p>Mango,4.00,"January;February;March",2.0,0.5</p>
            <input type="file" name="csv_file" accept=".csv" required>
            <button type="submit" class="btn btn-success">Upload CSV</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock content %}
